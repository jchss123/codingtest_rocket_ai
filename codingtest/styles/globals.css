@tailwind base;
@tailwind components;
@tailwind utilities;

/* CSS utilities for speech bubbles */
.speech-bubble {
  position: relative;
  background: linear-gradient(180deg, rgba(255,255,255,1) 0%, rgba(255,255,255,0.96) 100%);
  border-radius: 18px;
  border: 1px solid rgba(0,0,0,0.08);
  box-shadow: 0 8px 20px rgba(0,0,0,0.08);
  overflow: visible;
}
.speech-bubble::after,
.speech-bubble::before {
  content: "";
  position: absolute;
  width: 0;
  height: 0;
  border: 12px solid transparent;
}
/* Tail directions via data-attr (inner white tail) */
.speech-bubble[data-tail="left"]::after { left: -10px; top: 16px; border-right-color: white; }
.speech-bubble[data-tail="right"]::after { right: -10px; top: 16px; border-left-color: white; }
.speech-bubble[data-tail="top"]::after { top: -10px; left: 24px; border-bottom-color: white; }
.speech-bubble[data-tail="bottom"]::after { bottom: -10px; left: 24px; border-top-color: white; }

/* Outer border tail to create realistic outline */
.speech-bubble[data-tail="left"]::before { left: -12px; top: 16px; border-right-color: rgba(0,0,0,0.08); }
.speech-bubble[data-tail="right"]::before { right: -12px; top: 16px; border-left-color: rgba(0,0,0,0.08); }
.speech-bubble[data-tail="top"]::before { top: -12px; left: 24px; border-bottom-color: rgba(0,0,0,0.08); }
.speech-bubble[data-tail="bottom"]::before { bottom: -12px; left: 24px; border-top-color: rgba(0,0,0,0.08); }

/* Add inner spacing so text doesn't collide with tail */
.speech-bubble[data-tail="left"] { padding-left: 1.25rem; }
.speech-bubble[data-tail="right"] { padding-right: 1.25rem; }
.speech-bubble[data-tail="top"] { padding-top: 1rem; }
.speech-bubble[data-tail="bottom"] { padding-bottom: 1rem; }

/* Comic-style bubble: wobbly outline with thicker border */
.speech-bubble[data-variant="comic"] {
  border: 3px solid #111;
  border-radius: 24px;
  background: #fff;
  box-shadow: 0 2px 0 #111, 0 10px 20px rgba(0,0,0,0.08);
}
.speech-bubble[data-variant="comic"]::before,
.speech-bubble[data-variant="comic"]::after { border-width: 14px; }
.speech-bubble[data-variant="comic"][data-tail="left"]::before { border-right-color: #111; left: -16px; top: 18px; }
.speech-bubble[data-variant="comic"][data-tail="left"]::after { left: -12px; top: 18px; }
.speech-bubble[data-variant="comic"][data-tail="right"]::before { border-left-color: #111; right: -16px; top: 18px; }
.speech-bubble[data-variant="comic"][data-tail="right"]::after { right: -12px; top: 18px; }
.speech-bubble[data-variant="comic"][data-tail="top"]::before { border-bottom-color: #111; top: -16px; left: 28px; }
.speech-bubble[data-variant="comic"][data-tail="top"]::after { top: -12px; left: 28px; }
.speech-bubble[data-variant="comic"][data-tail="bottom"]::before { border-top-color: #111; bottom: -32px; left: 50%; transform: translateX(-50%); z-index: 0; }
.speech-bubble[data-variant="comic"][data-tail="bottom"]::after { bottom: -26px; left: 50%; transform: translateX(-50%); z-index: 1; }

/* Larger padding for comic variant tails */
.speech-bubble[data-variant="comic"][data-tail="left"] { padding-left: 1.75rem; }
.speech-bubble[data-variant="comic"][data-tail="right"] { padding-right: 1.75rem; }
.speech-bubble[data-variant="comic"][data-tail="top"] { padding-top: 1.25rem; }
.speech-bubble[data-variant="comic"][data-tail="bottom"] { padding-bottom: 2.25rem; }

/* Slight irregular contour using filter */
.speech-bubble[data-variant="comic"] { filter: drop-shadow(0 1px 0 #111); }

